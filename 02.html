import React from 'react';
import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, AreaChart, Area } from 'recharts';
import { Thermometer, Wind, AlertTriangle, TrendingUp, Info, Sun } from 'lucide-react';

const data = [
  { year: 2020, co2: 417.6, ch4: 1972, temp: 13.4 },
  { year: 2021, co2: 421.4, ch4: 1988, temp: 13.5 },
  { year: 2022, co2: 422.8, ch4: 2004, temp: 13.6 },
  { year: 2023, co2: 425.6, ch4: 2010, temp: 14.6 },
  { year: 2024, co2: 428.0, ch4: 2022, temp: 14.7 },
];

const App = () => {
  // 데이터 계산
  const tempRise = (data[4].temp - data[0].temp).toFixed(1);
  const co2Increase = (((data[4].co2 - data[0].co2) / data[0].co2) * 100).toFixed(1);
  const ch4Increase = (((data[4].ch4 - data[0].ch4) / data[0].ch4) * 100).toFixed(1);

  return (
    <div className="min-h-screen bg-slate-50 p-4 md:p-8 font-sans text-slate-900">
      {/* 헤더 섹션 */}
      <header className="max-w-6xl mx-auto mb-8 text-center">
        <h1 className="text-3xl md:text-4xl font-extrabold text-slate-800 mb-2 flex items-center justify-center gap-3">
          <TrendingUp className="text-red-500 w-8 h-8" />
          지구 온난화 리포트 (2020-2024)
        </h1>
        <p className="text-slate-500 italic">지구의 열을 가두는 온실가스, 우리의 미래를 바꿉니다.</p>
      </header>

      {/* 주요 요약 카드 */}
      <div className="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-col items-center text-center hover:scale-105 transition-transform">
          <div className="bg-orange-100 p-3 rounded-full mb-4">
            <Thermometer className="text-orange-600 w-6 h-6" />
          </div>
          <span className="text-slate-500 text-sm font-medium">평균 기온 상승</span>
          <h2 className="text-3xl font-bold text-orange-600">+{tempRise}°C</h2>
          <p className="text-xs text-slate-400 mt-2 italic">지구가 열이 나고 있어요!</p>
        </div>

        <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-col items-center text-center hover:scale-105 transition-transform">
          <div className="bg-blue-100 p-3 rounded-full mb-4">
            <Wind className="text-blue-600 w-6 h-6" />
          </div>
          <span className="text-slate-500 text-sm font-medium">CO₂ 농도 증가율</span>
          <h2 className="text-3xl font-bold text-blue-600">{co2Increase}%</h2>
          <p className="text-xs text-slate-400 mt-2">이불이 더 두꺼워지고 있습니다.</p>
        </div>

        <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-col items-center text-center hover:scale-105 transition-transform">
          <div className="bg-emerald-100 p-3 rounded-full mb-4">
            <AlertTriangle className="text-emerald-600 w-6 h-6" />
          </div>
          <span className="text-slate-500 text-sm font-medium">CH₄ 농도 증가율</span>
          <h2 className="text-3xl font-bold text-emerald-600">{ch4Increase}%</h2>
          <p className="text-xs text-slate-400 mt-2">강력한 온실효과의 주범입니다.</p>
        </div>
      </div>

      {/* 메인 차트 영역 */}
      <main className="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
        {/* 기온 변화 차트 */}
        <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
          <h3 className="text-lg font-bold mb-6 flex items-center gap-2">
            <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
            연도별 평균 기온 추이
          </h3>
          <div className="h-64 w-full">
            <ResponsiveContainer width="100%" height="100%">
              <AreaChart data={data}>
                <defs>
                  <linearGradient id="colorTemp" x1="0" y1="0" x2="0" y2="1">
                    <stop offset="5%" stopColor="#f97316" stopOpacity={0.2}/>
                    <stop offset="95%" stopColor="#f97316" stopOpacity={0}/>
                  </linearGradient>
                </defs>
                <CartesianGrid strokeDasharray="3 3" vertical={false} stroke="#f1f5f9" />
                <XAxis dataKey="year" axisLine={false} tickLine={false} tick={{fill: '#64748b'}} />
                <YAxis domain={[13, 15]} axisLine={false} tickLine={false} tick={{fill: '#64748b'}} />
                <Tooltip 
                  contentStyle={{borderRadius: '12px', border: 'none', boxShadow: '0 10px 15px -3px rgba(0,0,0,0.1)'}}
                />
                <Area type="monotone" dataKey="temp" stroke="#f97316" strokeWidth={3} fillOpacity={1} fill="url(#colorTemp)" />
              </AreaChart>
            </ResponsiveContainer>
          </div>
        </div>

        {/* 온실가스 농도 차트 */}
        <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
          <h3 className="text-lg font-bold mb-6 flex items-center gap-2">
            <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
            가속화되는 온실가스 농도
          </h3>
          <div className="h-64 w-full">
            <ResponsiveContainer width="100%" height="100%">
              <LineChart data={data}>
                <CartesianGrid strokeDasharray="3 3" vertical={false} stroke="#f1f5f9" />
                <XAxis dataKey="year" axisLine={false} tickLine={false} tick={{fill: '#64748b'}} />
                <YAxis yAxisId="left" hide />
                <YAxis yAxisId="right" hide />
                <Tooltip 
                  contentStyle={{borderRadius: '12px', border: 'none', boxShadow: '0 10px 15px -3px rgba(0,0,0,0.1)'}}
                />
                <Line yAxisId="left" type="monotone" dataKey="co2" stroke="#2563eb" strokeWidth={3} dot={{r: 6}} name="이산화탄소 (ppm)" />
                <Line yAxisId="right" type="monotone" dataKey="ch4" stroke="#059669" strokeWidth={3} dot={{r: 6}} name="메탄 (ppb)" />
              </LineChart>
            </ResponsiveContainer>
          </div>
          <div className="flex gap-4 mt-6 justify-center">
            <div className="flex items-center gap-2 text-xs font-medium text-blue-600">
              <div className="w-3 h-3 rounded-full bg-blue-600"></div> CO₂
            </div>
            <div className="flex items-center gap-2 text-xs font-medium text-emerald-600">
              <div className="w-3 h-3 rounded-full bg-emerald-600"></div> CH₄
            </div>
          </div>
        </div>
      </main>

      {/* 온실효과 원리 섹션 (마지막으로 이동) */}
      <section className="max-w-6xl mx-auto mb-12 bg-gradient-to-br from-blue-50 to-orange-50 p-6 md:p-8 rounded-3xl border border-blue-100 shadow-sm">
        <h2 className="text-xl font-bold mb-6 flex items-center gap-2 text-slate-800">
          <Sun className="text-yellow-500" /> 온실효과는 어떻게 일어날까요?
        </h2>
        <div className="grid grid-cols-1 md:grid-cols-3 gap-8 items-center">
          <div className="flex flex-col items-center text-center p-4 bg-white/70 rounded-2xl border border-white">
            <div className="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-4 border-2 border-yellow-200">
              <Sun className="text-yellow-600 w-10 h-10" />
            </div>
            <h4 className="font-bold text-slate-700 mb-2">1. 태양열 에너지</h4>
            <p className="text-sm text-slate-600">태양으로부터 강력한 빛 에너지가 지구로 들어옵니다.</p>
          </div>
          
          <div className="flex flex-col items-center text-center p-4 bg-white/70 rounded-2xl border border-white relative">
            <div className="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4 border-2 border-blue-200">
              <Wind className="text-blue-600 w-10 h-10 animate-pulse" />
            </div>
            <h4 className="font-bold text-slate-700 mb-2">2. 온실가스 이불</h4>
            <p className="text-sm text-slate-600">위의 데이터 속 $CO_2$와 $CH_4$가 지구를 감싸는 두꺼운 이불 역할을 합니다.</p>
          </div>

          <div className="flex flex-col items-center text-center p-4 bg-orange-100 rounded-2xl border border-orange-200 shadow-inner">
            <div className="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4 border-2 border-red-200">
              <Thermometer className="text-red-600 w-10 h-10" />
            </div>
            <h4 className="font-bold text-red-800 mb-2">3. 갇혀버린 열</h4>
            <p className="text-sm text-red-700 font-medium">열이 우주로 나가지 못하고 다시 튕겨 나와 지구가 뜨거워집니다.</p>
          </div>
        </div>
      </section>

      {/* 하단 행동 가이드 */}
      <footer className="max-w-6xl mx-auto mt-8 bg-slate-800 rounded-2xl p-6 text-white">
        <div className="flex items-start gap-4">
          <div className="bg-slate-700 p-2 rounded-lg">
            <Info className="w-5 h-5 text-blue-400" />
          </div>
          <div>
            <h4 className="font-bold text-lg mb-2 underline decoration-blue-400">함께 만드는 탄소 중립 생활</h4>
            <ul className="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-3 text-slate-300 text-sm">
              <li className="flex items-center gap-2">🚲 <strong>교통:</strong> 가까운 거리는 걷거나 자전거 타기</li>
              <li className="flex items-center gap-2">♻️ <strong>자원:</strong> 일회용품 대신 다회용 컵 사용하기</li>
              <li className="flex items-center gap-2">🔌 <strong>에너지:</strong> 안 쓰는 전기 플러그 뽑아두기</li>
              <li className="flex items-center gap-2">🍱 <strong>식사:</strong> 잔반 남기지 않기 (메탄 발생 감소)</li>
            </ul>
          </div>
        </div>
      </footer>
    </div>
  );
};

export default App;
